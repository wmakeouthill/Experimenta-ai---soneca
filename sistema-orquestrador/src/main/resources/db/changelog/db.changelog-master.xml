<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <!-- Migration inicial: Criação das tabelas do módulo gestao-cardapio -->
    <include file="changes/001-initial-schema.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Adiciona coluna foto na tabela produtos -->
    <include file="changes/002-add-foto-column-produtos.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação da tabela de clientes -->
    <include file="changes/003-create-clientes-table.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação das tabelas de pedidos e itens_pedido -->
    <include file="changes/004-create-pedidos-tables.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Atualiza pedidos PENDENTE para PREPARANDO -->
    <include file="changes/005-update-pendente-to-preparando.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Adiciona coluna meio_pagamento na tabela pedidos -->
    <include file="changes/006-add-meio-pagamento-pedidos.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Altera coluna foto de TEXT para LONGTEXT na tabela produtos -->
    <include file="changes/007-alter-foto-column-produtos-longtext.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação da tabela meios_pagamento_pedido para múltiplos meios de pagamento -->
    <include file="changes/008-create-meios-pagamento-pedido-table.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação da tabela de usuários para autenticação -->
    <include file="changes/009-create-usuarios-table.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação da tabela de sessões de trabalho -->
    <include file="changes/010-create-sessoes-trabalho-table.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Adiciona coluna sessao_id na tabela pedidos -->
    <include file="changes/011-add-sessao-id-to-pedidos.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Criação da tabela de configuração de animação -->
    <include file="changes/012-create-config-animacao-table.sql" relativeToChangelogFile="true"/>

    <!-- Migration: Adiciona coluna data_finalizacao na tabela pedidos -->
    <include file="changes/013-add-data-finalizacao-pedidos.sql" relativeToChangelogFile="true"/>

    <!-- 
    NOTA: O usuário administrador inicial é criado automaticamente via CommandLineRunner
    (UsuarioInicialConfig) na primeira execução da aplicação.
    Credenciais: admin@snackbar.com / admin123
    -->

</databaseChangeLog>
